# Orchestration Agent Test

ν”„λ΅λ•μ…κ³Ό 100% λ™μΌν• Orchestration Agent ν…μ¤νΈ ν™κ²½μ…λ‹λ‹¤.

## κΈ°λ¥

- **ν”„λ΅λ•μ… λ™μΌ λ΅μ§**: λ©”μΈ ν”„λ΅μ νΈμ orchestration_agent.pyμ™€ 100% λ™μΌν• μ‹μ¤ν… ν”„λ΅¬ν”„νΈ μ‚¬μ©
- **μ»¤μ¤ν…€ ν”„λ΅¬ν”„νΈ μ§€μ›**: μ‹μ¤ν… ν”„λ΅¬ν”„νΈλ¥Ό μμ •ν•λ©° ν…μ¤νΈ κ°€λ¥
- **ν”„λ΅¬ν”„νΈ μ €μ¥/λ¶λ¬μ¤κΈ°**: ν…μ¤νΈν• ν”„λ΅¬ν”„νΈλ¥Ό μ €μ¥ν•κ³  μ¬μ‚¬μ©
- **λ°μ΄ν„°μ…‹ κ΄€λ¦¬**: μ§λ¬Έκ³Ό λ€ν™” μ΄λ ¥μ„ μ €μ¥ν•μ—¬ λ°λ³µ ν…μ¤νΈ
- **μ‹¤μ‹κ°„ κ²°κ³Ό ν™•μΈ**: Execution Planκ³Ό Answer Structureλ¥Ό μ¦‰μ‹ ν™•μΈ

## μ‹¤ν–‰ λ°©λ²•

### 1. μμ΅΄μ„± μ„¤μΉ

```bash
cd agent-tests/orchestration-agent-test
pip install -r requirements.txt
```

### 2. ν™κ²½ λ³€μ μ„¤μ •

ν”„λ΅μ νΈ λ£¨νΈμ `.env` νμΌμ— `GEMINI_API_KEY`κ°€ μ„¤μ •λμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤.

### 3. μ„λ²„ μ‹¤ν–‰

```bash
python backend/main.py
```

μ„λ²„κ°€ http://localhost:8091 μ—μ„ μ‹¤ν–‰λ©λ‹λ‹¤.

### 4. ν…μ¤νΈ UI μ—΄κΈ°

λΈλΌμ°μ €μ—μ„ `index.html` νμΌμ„ μ§μ ‘ μ—΄κ±°λ‚:

```bash
open index.html  # macOS
```

## μ‚¬μ© λ°©λ²•

1. **μ‚¬μ©μ μ§λ¬Έ μ…λ ¥**: ν…μ¤νΈν•  μ§λ¬Έμ„ μ…λ ¥ν•©λ‹λ‹¤.
2. **λ€ν™” μ΄λ ¥ (μ„ νƒ)**: μ΄μ „ λ€ν™” λ§¥λ½μ΄ ν•„μ”ν• κ²½μ° JSON λ°°μ—΄ ν•μ‹μΌλ΅ μ…λ ¥ν•©λ‹λ‹¤.
3. **μ»¤μ¤ν…€ ν”„λ΅¬ν”„νΈ (μ„ νƒ)**: μ‹μ¤ν… ν”„λ΅¬ν”„νΈλ¥Ό μμ •ν•μ—¬ ν…μ¤νΈν•  μ μμµλ‹λ‹¤.
4. **μ‹¤ν–‰**: "π€ Orchestration Agent μ‹¤ν–‰" λ²„νΌ ν΄λ¦­
5. **κ²°κ³Ό ν™•μΈ**:
   - User Intent: μ‚¬μ©μ μλ„ λ¶„μ„ κ²°κ³Ό
   - Direct Response: μ¦‰μ‹ μ‘λ‹µμ΄ μλ” κ²½μ° ν‘μ‹
   - Execution Plan: μ–΄λ–¤ Sub Agentλ¥Ό μ–΄λ–¤ μμ„λ΅ νΈμ¶ν• μ§€
   - Answer Structure: μµμΆ… λ‹µλ³€μ κµ¬μ΅° μ„¤κ³„
   - Raw Response: Geminiκ°€ μƒμ„±ν• μ›λ³Έ JSON
   - Prompt Used: μ‹¤μ λ΅ μ‚¬μ©λ ν”„λ΅¬ν”„νΈ μ „λ¬Έ

## ν”„λ΅¬ν”„νΈ μμ • μμ‹

κΈ°λ³Έ ν”„λ΅¬ν”„νΈλ¥Ό λ¶λ¬μ¨ ν›„, νΉμ • λ¶€λ¶„μ„ μμ •ν•μ—¬ ν…μ¤νΈν•  μ μμµλ‹λ‹¤:

```
λ‹Ήμ‹ μ€ λ€ν•™ μ…μ‹ μƒλ‹΄ μ‹μ¤ν…μ **Orchestration Agent**μ…λ‹λ‹¤.

[μμ •λ λ‚΄μ©...]

## κ°€μ© μ—μ΄μ „νΈ λ©λ΅
{agents}

[λ‚λ¨Έμ§€ λ‚΄μ©...]
```

**μ£Όμ**: `{agents}` ν”λ μ΄μ¤ν™€λ”λ” λ°λ“μ‹ ν¬ν•¨ν•΄μ•Ό ν•©λ‹λ‹¤.

## μ €μ¥ κΈ°λ¥

### ν”„λ΅¬ν”„νΈ μ €μ¥
- ν…μ¤νΈν• ν”„λ΅¬ν”„νΈλ¥Ό μ΄λ¦„κ³Ό μ„¤λ…κ³Ό ν•¨κ» μ €μ¥
- μ €μ¥ μ„μΉ: `backend/storage/prompts/`

### λ°μ΄ν„°μ…‹ μ €μ¥
- μ§λ¬Έκ³Ό λ€ν™” μ΄λ ¥μ„ λ°μ΄ν„°μ…‹μΌλ΅ μ €μ¥
- λ°λ³µ ν…μ¤νΈμ— ν™μ©
- μ €μ¥ μ„μΉ: `backend/storage/datasets/`

## API μ—”λ“ν¬μΈνΈ

- `POST /api/orchestration` - Orchestration Agent μ‹¤ν–‰
- `GET /api/default-prompt` - κΈ°λ³Έ ν”„λ΅¬ν”„νΈ μ΅°ν
- `GET /api/agents` - κ°€μ© μ—μ΄μ „νΈ λ©λ΅ μ΅°ν
- `POST /api/prompts` - ν”„λ΅¬ν”„νΈ μ €μ¥
- `GET /api/prompts` - μ €μ¥λ ν”„λ΅¬ν”„νΈ λ©λ΅
- `GET /api/prompts/{id}` - ν”„λ΅¬ν”„νΈ λ¶λ¬μ¤κΈ°
- `DELETE /api/prompts/{id}` - ν”„λ΅¬ν”„νΈ μ‚­μ 
- `POST /api/datasets` - λ°μ΄ν„°μ…‹ μ €μ¥
- `GET /api/datasets` - μ €μ¥λ λ°μ΄ν„°μ…‹ λ©λ΅
- `GET /api/datasets/{id}` - λ°μ΄ν„°μ…‹ λ¶λ¬μ¤κΈ°
- `DELETE /api/datasets/{id}` - λ°μ΄ν„°μ…‹ μ‚­μ 

## ν¬νΈ μ •λ³΄

- Orchestration Agent Test: **8091**
- Final Agent Test: 8090
- Sub Agent Test: 8092
